---
description: è±å¯Œå¤šå…ƒçš„ Flow options
---

# .flowconfig \[options\]

.flowconfig ä¸­çš„ \[options\] é …ç›®å°±æ˜¯å° Flow çš„å„ç¨®è¨­å®š  
ä½¿ç”¨ key-value ä¸€å°ä¸€å°çš„å®šç¾©ï¼Œåƒæ˜¯é€™æ¨£ï¼š

```text
[options]
keyA=valueA
keyB=valueB
```

è‹¥æ˜¯æ²’æœ‰è¢«å®šç¾©çš„é …ç›®å‰‡æœƒä½¿ç”¨é è¨­å€¼ï¼Œ  
æœ‰äº› options é¸é …å¯ä»¥åœ¨ flow çš„ command line ä¸­æŒ‡å®šå“¦ï¼åƒæ˜¯ `--lazy-mode` `--temp-dir` ç­‰ç­‰çš„ã€‚

## å¯ç”¨ options åˆ—è¡¨ <a id="option-list"></a>

* [all](.flowconfig-options.md#all)
* [babel\_loose\_array\_spread](.flowconfig-options.md#babel_loose_array_spread)
* [emoji](.flowconfig-options.md#emoji)
* [esproposal.class\_instance\_fields](.flowconfig-options.md#esproposal-class_instance_fields-enable)
* [esproposal.class\_static\_fields](.flowconfig-options.md#esproposal-class_static_fields)
* [esproposal.decorators](.flowconfig-options.md#esproposal-decorators)
* [esproposal.export\_star\_as](.flowconfig-options.md#esproposalexport-star_as)
* [esproposal.optional\_chaining](.flowconfig-options.md#esproposal-optional_chaining)
* [esproposal.nullish\_coalescing](.flowconfig-options.md#esproposal-nullish_coalescing)
* [exact\_by\_default](.flowconfig-options.md#exact_by_default)
* [experimental.const\_params](.flowconfig-options.md#experimental-const_params)
* [include\_warnings](.flowconfig-options.md#include_warnings)
* [lazy\_mode](.flowconfig-options.md#lazy_mode)
* [log.file](.flowconfig-options.md#logfile)
* [max\_header\_tokens](.flowconfig-options.md#max_header_tokens)
* [module.file\_ext](.flowconfig-options.md#module-file_ext)
* [module.ignore\_non\_literal\_requires](.flowconfig-options.md#module-ignore_non_literal_requires)
* [module.name\_mapper](.flowconfig-options.md#module-name_mapper)
* [module.name\_mapper.extension](.flowconfig-options.md#module-name_mapper-extension)
* [module.system](.flowconfig-options.md#module-system)
* [module.system.node.main\_field](.flowconfig-options.md#module-system-node-main_field)
* module.system.node.resolve\_dirname
* module.use\_strict
* munge\_underscores
* no\_flowlib
* react.runtime
* server.max\_workers
* sharedmemory.dirs
* sharedmemory.minimum\_available
* sharedmemory.hash\_table\_pow
* sharedmemory.heap\_size
* sharedmemory.log\_level
* strip\_root
* suppress\_comment
* suppress\_type
* temp\_dir
* traces
* types\_first
* well\_formed\_exports

### all \( boolean \) <a id="all"></a>

è¨­å®šç‚º `true` çš„è©±æœƒæª¢æŸ¥å°ˆæ¡ˆä¸‹æ‰€æœ‰æª”æ¡ˆï¼Œè€Œä¸åƒ…åƒ…æ˜¯æ¨™æ³¨äº† `// @flow` çš„æª”æ¡ˆ  
é è¨­å€¼æ˜¯ `false`ã€‚

### babel\_loose\_array\_spread \( boolean \) <a id="babel_loose_array_spread"></a>

è¨­å®šç‚º `true` å°‡æœƒåªå…è¨±å‹åˆ¥ç‚º **Array** çš„é€²è¡Œ JavaScript spread å‹•ä½œ \( ä¹Ÿå°±æ˜¯å‹åˆ¥ç‚º **Map** æˆ– **Set** çš„éƒ½ä¸è¡Œ\)ã€‚  
é€™å€‹çš„ä½¿ç”¨å ´æ™¯é€šå¸¸æ˜¯ Babel æœ‰é–‹èµ·ä¾† [loose mode](https://babeljs.io/docs/en/babel-plugin-transform-spread#loose) çš„æ™‚å€™æœƒæ¯”è¼ƒæœ‰ç”¨ã€‚

é è¨­æ˜¯ `false`

```javascript
// @flow
const set = new Set();
const value = [...set]; // è‹¥ babel_loose_array_spread=true æœƒéŒ¯ã€‚
```

### emoji \( boolean \) <a id="emoji"></a>

è¨­å®šç‚º `true` çš„è©± Flow åœ¨å¿™ç¢Œçš„æ™‚å€™æœƒå‡ºç¾ä¸€äº› emoji è¡¨æƒ…ç¬¦è™Ÿ

é è¨­æ˜¯ `false`

```text
Please wait. Server is initializing (ğŸ‘» parsed file ...
```

### esproposal.class\_instance\_fields \( enable \| ignore \| warn \) <a id="esproposal-class_instance_fields-enable"></a>

è¨­å®šç‚º `warn` çš„è©±  Flow æœƒæª¢æŸ¥æ˜¯å¦åœ¨ class ä¸­å®£å‘Šå¯¦ä¾‹æˆå“¡  
ä¹Ÿå¯ä»¥è¨­å®šç‚º `ignore` å« Flow å¿½ç•¥ä¸è¦æª¢æŸ¥ã€‚

```javascript
// @flow
class Welcome {
  test = 123; // è‹¥ esproposal.class_instance_fields=warn æœƒå ±éŒ¯ã€‚
}
```

é è¨­æ˜¯ `enable`ï¼Œä¹Ÿå°±æ˜¯å…è¨±ä½¿ç”¨çš„æ„æ€ï¼

> å¯¦æ¸¬ç™¼ç¾ esproposal ç›¸é—œçš„è¨­å®šåœ¨ Flow `v1.135.0` ç‰ˆæœ¬ä¹‹å¾Œå°±ä¸å†æ”¯æ´å›‰ï¼  
> å·²ç¶“å‘ç¤¾ç¾¤æå‡º [Issue](https://github.com/facebook/flow/issues/8623) å›‰ï¼

### esproposal.class\_static\_fields \( enable \| ignore \| warn \) <a id="esproposal-class_static_fields"></a>

è¨­å®šç‚º `warn` çš„è©± Flow æœƒæª¢æŸ¥æ˜¯å¦åœ¨ class ä¸­ä½¿ç”¨ static æˆå“¡  
ä¹Ÿå¯ä»¥è¨­å®šç‚º `ignore` å« Flow å¿½ç•¥ä¸è¦æª¢æŸ¥ã€‚

```javascript
// @flow
class Welcome {
  static foo = {}; // è‹¥ esproposal.class_static_fields=warn æœƒå ±éŒ¯ã€‚
}
```

é è¨­æ˜¯ `enabel`ï¼Œä¹Ÿå°±æ˜¯å…è¨±ä½¿ç”¨çš„æ„æ€ï¼

> å¯¦æ¸¬ç™¼ç¾ esproposal ç›¸é—œçš„è¨­å®šåœ¨ Flow `v1.135.0` ç‰ˆæœ¬ä¹‹å¾Œå°±ä¸å†æ”¯æ´å›‰ï¼  
> å·²ç¶“å‘ç¤¾ç¾¤æå‡º [Issue](https://github.com/facebook/flow/issues/8623) å›‰ï¼

### esproposal.decorators \( ignore \| warn \) <a id="esproposal-decorators"></a>

è¨­å®šç‚º `ignore` çš„è©± Flow æœƒå¿½ç•¥æª¢æŸ¥ JavaScript çš„ decorator \( decorator å¯ä»¥åƒè€ƒ[é€™ç¯‡](https://dev.to/dpksh/learn-javascript-class-decorators-in-5-minutes-4em7) \)

```javascript
// @flow
class Welcome {
  @Decorator // è‹¥ esproposal.decorators=ignore çš„è©±ä¸æœƒå ±éŒ¯ï¼Œè¨­å®šç‚º warn æˆ–ä¸è¨­å®šéƒ½æœƒå ±éŒ¯
  sayHi(): void {
    console.log('Hello');
  }
}
```

é è¨­æ˜¯ `warn`ï¼Œç•¶æˆ‘å€‘åœ¨ä½¿ç”¨ decorator çš„æ™‚å€™ Flow æœƒå ±éŒ¯ã€‚

> å¯¦æ¸¬ç™¼ç¾ esproposal ç›¸é—œçš„è¨­å®šåœ¨ Flow `v1.135.0` ç‰ˆæœ¬ä¹‹å¾Œå°±ä¸å†æ”¯æ´å›‰ï¼  
> å·²ç¶“å‘ç¤¾ç¾¤æå‡º [Issue](https://github.com/facebook/flow/issues/8623) å›‰ï¼

### esproposal.export\_star\_as \( enable \| warn \| ignore \) <a id="esproposalexport-star_as"></a>

è¨­å®šç‚º `enable` çš„è©± Flow æœƒæ”¯æ´ `export * as` é€™æ¨£çš„èªæ³• \( åƒè€ƒ [export ns from](%20https://github.com/tc39/proposal-export-ns-from) \)

ä¹Ÿå¯ä»¥è¨­å®šç‚º `ignore` å« Flow å¿½ç•¥ä¸è¦æª¢æŸ¥é€™å€‹èªæ³•ï¼Œ  
æˆ–æ˜¯è¨­å®šç‚º `warn`ï¼Œè®“ Flow é¡¯ç¤ºè­¦å‘Šè¨Šæ¯ã€‚

```javascript
// @flow


// esproposal.export_star_as=warn çš„è©± Flow æœƒé¡¯ç¤ºè­¦å‘Šè¨Šæ¯
export * as Mod form './export-something';
```

> å¯¦æ¸¬ç™¼ç¾ esproposal ç›¸é—œçš„è¨­å®šåœ¨ Flow `v1.135.0` ç‰ˆæœ¬ä¹‹å¾Œå°±ä¸å†æ”¯æ´å›‰ï¼  
> å·²ç¶“å‘ç¤¾ç¾¤æå‡º [Issue](https://github.com/facebook/flow/issues/8623) å›‰ï¼

### esproposal.optional\_chaining \( enable \| warn \| ignore \) <a id="esproposal-optional_chaining"></a>

è¨­å®šç‚º `enable` çš„è©± Flow æœƒæ”¯æ´ optional chaining é€™æ¨£çš„èªæ³• \( åƒè€ƒ [Optional Chaining](https://github.com/tc39/proposal-optional-chaining) \)

ä¹Ÿå¯ä»¥è¨­å®šç‚º `ignore` å« Flow å¿½ç•¥ä¸è¦æª¢æŸ¥  
è¨­å®šç‚º `warn` å¯ä»¥å« Flow é¡¯ç¤ºå‡ºè­¦å‘Šè¨Šæ¯ã€‚

```javascript
// @flow
type Shape = {
    foo?: {
        bar: number,
    },
}

const obj: Shape = {
    foo: {
        bar: 123,
    },
}

// esproposal.optional_chaining=enable çš„è©±æœƒè§£ææˆåŠŸï¼Œwarn çš„è©±æœƒé¡¯ç¤ºè­¦å‘Šè¨Šæ¯ï¼Œignore æœƒå¿½ç•¥ä¸æª¢æŸ¥
const num: vode | number = obj.foo?.bar;
```

> éœ€è¦æå‡ºå€‹ ISSUEï¼Œçœ‹èµ·ä¾†é è¨­å€¼ä¸¦ä¸æ˜¯ warnï¼Œè€Œæ˜¯ ignore æˆ– enable æ‰å°

### esproposal.nullish\_coalescing \( boolean \) <a id="esproposal-nullish_coalescing"></a>

è¨­å®šç‚º `enable` çš„è©±ï¼ŒFlow æœƒä¹‹æ”¯æ´ nullish coalescing é€™æ¨£çš„èªæ³• \( åƒè€ƒ [Nullish Coalescing](https://github.com/tc39/proposal-nullish-coalescing) \)

ä¹Ÿå¯ä»¥è¨­å®šç‚º `ignore` å« Flow å¿½ç•¥ä¸è¦æª¢æŸ¥  
è¨­å®šç‚º `warn` å¯ä»¥å« Flow é¡¯ç¤ºå‡ºè­¦å‘Šè¨Šæ¯ã€‚ \( ç›®å‰å¯¦æ¸¬æœ‰ bug ?? \)

```javascript
// @flow
const response = {
  settings: {
    animationDuration: 0,
  }
};

// å¦‚æœ esproposal.nullish_coalescing è¨­å®šç‚º warn æ‡‰è©²è¦å‡ºç¾æé†’è¨Šæ¯ï¼Œåªæ˜¯å¯¦æ¸¬æ²’æœ‰
const animationDuration = response.settings.animationDuration ?? 300;
```

> å¯¦æ¸¬ç™¼ç¾ esproposal ç›¸é—œçš„è¨­å®šåœ¨ Flow `v1.135.0` ç‰ˆæœ¬ä¹‹å¾Œå°±ä¸å†æ”¯æ´å›‰ï¼  
> å·²ç¶“å‘ç¤¾ç¾¤æå‡º [Issue](https://github.com/facebook/flow/issues/8623) å›‰ï¼

{% hint style="danger" %}
å¯èƒ½ä¹Ÿéœ€è¦æå‡ºå€‹ ISSUEï¼Œçœ‹èµ·ä¾†å°±ç®—è¨­å®šç‚º warn ä¹Ÿä¸æœƒæ­£ç¢ºçš„è·³å‡ºæç¤º
{% endhint %}

### exact\_by\_default \( boolean \) <a id="exact_by_default"></a>

é¡§åæ€ç¾©ï¼Œè‹¥æ˜¯è¨­å®šç‚º `true` çš„è©±ï¼Œæœƒé è¨­è¦æ±‚ç²¾ç¢ºåŒ¹é…å‹åˆ¥ï¼Œ\( åƒè€ƒ [Exact object types](https://flow.org/en/docs/types/objects/#toc-exact-object-types) \)

```javascript
// @flow

type Person {
    name: string,
    age: number,
}

// exact_by_default=true çš„è©±æœƒå ±éŒ¯ï¼Œ false çš„è©±æœƒé€šé
const person001: Person = {
    name: 'Wayne',
    age: 26,
    foo: 'test',
}
```

é è¨­ç‚º `false`

### experimental.const\_params \( boolean \) <a id="experimental-const_params"></a>

è¨­å®šç‚º `true` çš„è©±ï¼ŒFlow æœƒé™åˆ¶æˆ‘å€‘ä¸å¯ä»¥æ”¹è®Š function æ¥æ”¶åˆ°çš„åƒæ•¸ï¼Œä¹Ÿå°±æ˜¯æŠŠæ¯å€‹æ¥æ”¶åˆ°çš„åƒæ•¸éƒ½ç•¶æˆ `const`ã€‚

```javascript
// @flow

function sum(a: number, b: number) {
    a = 123; // è‹¥æ˜¯ experimental.const_params=true æœƒå ±éŒ¯ï¼Œç‚º false çš„è©±æœƒé€šé
    return a + b;
}
```

é è¨­ç‚º `false` \( çœ‹èµ·ä¾†é€™å€‹åœ¨æœªä¾†å°ˆæ¡ˆå…§éƒ½å¯ä»¥è€ƒæ…®è¨­å®šç‚º `true` ^^ \)

### include\_warnings \( boolean \) <a id="include_warnings"></a>

è¨­å®šç‚º `true` çš„è©± Flow çš„ command line è¨Šæ¯å°‡æœƒåŒ…å« warning è¨Šæ¯ï¼Œ  
é è¨­æ˜¯ä¸é¡¯ç¤ºçš„ \( å¦‚æœè¦çœ‹ warning è¨Šæ¯çš„è©±ï¼Œé€é IDE çš„æ•´åˆä»‹é¢é¡¯ç¤ºæ˜¯æ¯”è¼ƒèˆ’æœçš„å“¦ï¼ \)

{% tabs %}
{% tab title=".flowconfig" %}
```bash
[lints]
sketch-null=warn

[options]
include_warnings=true
```
{% endtab %}

{% tab title="include\_warnings.js" %}
```javascript
// @flow
function foo(bar: ?bool) {
    if (bar) {
        // ...
    } else {
        // ...
    }
}
```
{% endtab %}
{% endtabs %}

åŸ·è¡Œ `flow` æˆ– `flow status` æŒ‡ä»¤é€²è¡Œé™¤éŒ¯å°±å¯ä»¥çœ‹åˆ° warning è¨Šæ¯å›‰ï¼ï¼

é è¨­ç‚º `false`ã€‚

### lazy\_mode \( fs \| ide \| watchman \| none \) <a id="lazy_mode"></a>

todo...

### log.file \( string \) <a id="logfile"></a>

æŒ‡å®š log æª”æ¡ˆå­˜æ”¾ä½ç½®

é è¨­åœ¨ `/tmp/flow/<escaped root path>.log`  
åƒæ˜¯æˆ‘æœ‰ä¸€å€‹ Flow å°ˆæ¡ˆå« _flow-test_ï¼Œä»–å°±å­˜äº†ä¸€å€‹ log æª”å«åš  
`zSUserszSwaynezSwszStmpzSflow-test.log` çœ‹ä¸å¤ªæ‡‚é½ï½ æŠŠ `zS` æ›æˆ `/` å»æ‰å°±æœƒè®Šæˆ `/User/wayne/ws/tmp/flow-test.log` äº†

### max\_header\_tokens \( integer \) <a id="max_header_tokens"></a>

æˆ‘å€‘çŸ¥é“ Flow ä»–æ˜¯é€é `// @flow` æˆ– `// @noflow` è¨»è§£ä¾†æ±ºå®šæ˜¯å¦ç‚º Flow æª”æ¡ˆï¼Œé€²ä¸€æ­¥é€²è¡Œå‹åˆ¥æª¢æŸ¥ã€‚  
ä½†æ˜¯ Flow ä¸å¯èƒ½ç„¡é™çš„æª¢æŸ¥ä¸‹å»ï¼Œå› æ­¤ Flow æœ‰ä¸€å€‹æ–·é»æ©Ÿåˆ¶  
é€é `max_header_tokens` ï¼Œå‘Šè¨´ Flow è¦å¾€ä¸‹æª¢æŸ¥å¹¾å€‹è¨»è§£

```javascript
// ... 1
// ... 2
// ... 3
// ... 4
// ... 5
// ... 6
// ... 7
// ... 8
// ... 9
// ... 10
// @flow

const num: string = 123; // Flow ä¸æœƒæª¢æŸ¥é€™å€‹æª”æ¡ˆï¼Œå› ç‚ºè¨»è§£å·²ç¶“è¶…é 10 æ®µäº†ï¼Œ Flow ç¨‹åºå·²ç¶“åˆ¤å®šä»–ä¸æ˜¯ Flow æª”æ¡ˆäº†

```

é è¨­ç‚º `10`

### module.file\_ext \( string \) <a id="module-file_ext"></a>

é è¨­æƒ…æ³ä¸‹ Flow æœƒå»åµæ¸¬ä»¥ä¸‹å‰¯æª”åçš„æª”æ¡ˆ `.js`, `.jsx`, `.mjs`, `.cjs` é‚„æœ‰ `.json`ï¼Œ æˆ‘å€‘å¯ä»¥é€éå®šç¾© `module.file_ext` ä¾†è¦†è“‹åŸå…ˆçš„è¨­å®š

åƒæ˜¯é€™æ¨£

```text
[options]
module.file_ext=.foo
module.file_ext=.bar
```

é€™æ¨£è¨­å®šä¹‹å¾Œ Flow å°±åªæœƒæª¢æŸ¥ `.foo` è·Ÿ `.bar` æª”äº† \( åŸå…ˆçš„ `.js`, `.jsx` ... å°±éƒ½ä¸æª¢æŸ¥äº† \)

> Note: module.file\_ext æ˜¯å¯ä»¥å®šç¾©å¤šè¡Œçš„ï¼

### module.ignore\_non\_literal\_requires \( boolean \) <a id="module-ignore_non_literal_requires"></a>

è¨­å®šç‚º `true` çš„è©± Flow åœ¨æª¢æŸ¥ require\(\) æ–¹æ³•æ™‚æœƒæ¥å— string ä»¥å¤–çš„è¼¸å…¥

```javascript
// @flow
const requireDir = './foo';

const foo = require('./foo'); // æœƒé€šéæª¢æŸ¥
const bar = require(requireDir); // è‹¥æ˜¯ module.ignore_non_literal_require=true çš„è©±æœƒé€šéæª¢æŸ¥
```

é è¨­å€¼ç‚º `false`

### module.name\_mapper \( regex -&gt; string \) <a id="module-name_mapper"></a>

æŒ‡å®šä¸€æ®µæ­£è¦è¡¨é”å¼ï¼Œç•¶åŒ¹é…åˆ°çš„æ™‚å€™æœƒå°‡åŒ¹é…åˆ°çš„åœ°æ–¹è½‰æ›ç‚ºç®­é ­ `->` å¾Œæ–¹çš„å­—ä¸²ã€‚

åƒæ˜¯é€™æ¨£ï¼š

```text
[options]
module.name_mapper='^img/\(.*\)$' -> '<PROJECT_ROOT>/src/img/\1'
```

ä»¥ä¸Šé¢çš„è¦å‰‡ä¾†èªªæœƒå°‡é–‹é ­ç‚º img åŒ¹é…ç‚º å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ `<PROJECT_ROOT>/src/img` ç›®éŒ„ ä¹‹å¾Œä¸ç®¡åœ¨ä»»ä½•ç›®éŒ„ä¸‹æƒ³è¦å¼•å…¥ `<PROJECTROOT>/src/img` åº•ä¸‹çš„è³‡æºåªè¦é€™æ¨£å°±å¥½äº†

```javascript
const img = require('img/foo.jpg'); // é€™æ¨£å°±æœƒåŒ¹é…åˆ° <PROJECT_ROOT>/src/img/foo.jpg äº†
```

---

å¦å¤–å®˜ç¶²æœ‰çµ¦å‡ºä¸€å€‹ç¯„ä¾‹æ˜¯é€™æ¨£çš„

```text
[options]
module.name_mapper='^image![a-zA-Z0-9$_]+$' -> 'ImageStub'
```

æ¥è‘—å†ä½¿ç”¨ `require('image!foo.jpg')` æœƒç­‰åŒæ–¼ä½¿ç”¨ `require('ImageStub')` é€™æ¨£

æ©... é€™å€‹æˆ‘æ¸¬è©¦äº†å¾ˆå¤šæ¬¡ éƒ½è¦ºå¾—ç¯„ä¾‹ä¸­çš„æ­£è¦è¡¨é”å¼å¥½åƒå°‘äº†ä¸€å€‹ `.` å†æå€‹ ISSUE å»å•ä¸€ä¸‹å§ï¼

æœ€å¾Œå†ä¾†çµ¦å¤§å®¶çœ‹ä¸€ä¸‹ [Vue](https://github.com/vuejs/vue) ç•¶ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨é€™æ®µçš„å§ï¼ï¼

```text
[options]
module.name_mapper='^compiler/\(.*\)$' -> '<PROJECT_ROOT>/src/compiler/\1'
module.name_mapper='^core/\(.*\)$' -> '<PROJECT_ROOT>/src/core/\1'
module.name_mapper='^shared/\(.*\)$' -> '<PROJECT_ROOT>/src/shared/\1'
module.name_mapper='^web/\(.*\)$' -> '<PROJECT_ROOT>/src/platforms/web/\1'
module.name_mapper='^weex/\(.*\)$' -> '<PROJECT_ROOT>/src/platforms/weex/\1'
module.name_mapper='^server/\(.*\)$' -> '<PROJECT_ROOT>/src/server/\1'
module.name_mapper='^entries/\(.*\)$' -> '<PROJECT_ROOT>/src/entries/\1'
module.name_mapper='^sfc/\(.*\)$' -> '<PROJECT_ROOT>/src/sfc/\1'
```

> æ°¸é è¦è¨˜å¾— Flow åªæ˜¯å‹åˆ¥æª¢æŸ¥ï¼Œæˆ‘å€‘é€™é‚Šçš„è¨­å®šæ˜¯å‹åˆ¥æœƒå–ç”¨åŒ¹é…æª”æ¡ˆçš„è€Œå·²ï¼Œä¸¦ä¸æ˜¯çœŸçš„å¼•ç”¨åˆ°é‚£å€‹æª”æ¡ˆï¼Œ è¨­å®šäº† Flow çš„ module.name\_mapper ä¹‹å¾Œï¼ŒWebpack ä¹‹é¡çš„æ‰“åŒ…å·¥å…·ä¸€æ¨£è¦è¨­å®šå¥½æ‰æœƒæ˜¯çœŸçš„é€šå“¦ï¼

### module.name\_mapper.extension \( string -&gt; string \) <a id="module-name_mapper-extension"></a>

æŒ‡å®šå‰¯æª”ååŒ¹é…åˆ°å¦å¤–æŒ‡å®šçš„è‡ªä¸²

> é€™åªæ˜¯ `module.name_mapper='^\(.*\)\.EXTENSION$' -> 'TEMPLATE'` çš„ç°¡æ˜“å¯«æ³•è€Œå·²

ä½¿ç”¨ç¯„ä¾‹ï¼š

```text
[options]
module.name_mapper.extension='css' -> '<PROJECT_ROOT>/src/CSSFlowStub.js.flow'
```

é€™æ¨£è¨­å®šå°±æœƒå°‡æ‰€æœ‰å‰¯æª”åç‚º `.css` éƒ½åŒ¹é…åˆ° `<PROJECT_ROOT>/src/CSSFlowStub.js.flow` é€™å€‹æª”æ¡ˆäº†

> Note: module.name\_mapper.extension æ˜¯å¯ä»¥å®šç¾©å¤šè¡Œçš„ï¼

### module.system \( node \| haste \) <a id="module-system"></a>

ç”¨æ–¼è§£æ import è·Ÿ require èªæ³•çš„ç³»çµ±ï¼Œhaste æ˜¯ç”¨åœ¨ React Native çš„ã€‚ é è¨­æ˜¯ `node`ã€‚

### module.system.node.main\_field \( string \) <a id="module-system-node-main_field"></a>

é è¨­æƒ…æ³ä¸‹ Flow åœ¨å¼•å…¥ç¬¬ä¸‰æ–¹å¥—ä»¶æ™‚æœƒå»æŸ¥çœ‹å¥—ä»¶ä¸­çš„ `package.json` çš„ **name** èˆ‡ **main** æ¬„ä½ä¾†æ±ºå®šå¯¦éš›å¼•å…¥çš„æª”æ¡ˆã€‚

ä½†æˆ‘å€‘é‚„æ˜¯å¯ä»¥é€éä»¥ä¸‹è¨­å®šè¦†è“‹ï¼š

```text
[options]
module.system.node.main_field=foo
module.system.node.main_field=bar
module.system.node.main_field=baz
```

è¨­å®šå¾Œ Flow å°±æœƒç”¨é€™äº›æŒ‡å®šçš„åç¨±å»æŸ¥çœ‹ `package.json`ã€‚

```text
{
  "name": "kittens",
  "main": "main.js",
  "bar": "bar.js",
  "baz": "baz.js"
}
```

ä»¥æ­¤æ¡ˆä¾‹ä¾†èªªï¼Œæœ€çµ‚æœƒå¼•å…¥ `baz.js` ä½œç‚º **kittens** æ¨¡çµ„ Flow å‹åˆ¥çš„ä¾æ“š \( å‰ææ˜¯ **kittens** å°ˆæ¡ˆä¸‹æœ‰ `baz.js` é€™å€‹æª”æ¡ˆ \)   
\( å†æ¬¡ç¢ç¢å¿µ: Flow åªæ˜¯å‹åˆ¥ä¸æ˜¯å¯¦éš›å¼•å…¥ \)

å¦‚æœæ²’æœ‰è¨­å®š `module.system.node.main_field` çš„è©± Flow æœƒä½¿ç”¨ **"main"** æ¬„ä½ä½œç‚ºä¾æ“š

æ¥ä¸‹ä¾†èªªä¸€ä¸‹ç­†è€…å¯¦éš›ä½¿ç”¨çš„å¿ƒå¾—èˆ‡æ³¨æ„äº‹é …

1. æ²’æœ‰è¨­å®šå°±ä¸æœƒè®€å– ä»¥ä¸Šé¢çš„ä½¿ç”¨æ¡ˆä¾‹ä¾†èªª æˆ‘å€‘åªæœ‰æŒ‡å®š `foo`, `bar`, `baz` æ‰€ä»¥ä¸€èˆ¬é Flow å°ˆæ¡ˆä½¿ç”¨çš„ **"main"** å°±ä¸æœƒè®€å–åˆ°äº†ï¼Œé€™æ¨£æœƒå°è‡´ç„¡æ³•ä½¿ç”¨é Flow å°ˆæ¡ˆçš„ç¬¬ä¸‰æ–¹å¥—ä»¶ï¼Œç”šè‡³é€£æ²’æœ‰ç‰¹åˆ¥è¨­å®šçš„ Flow ç¬¬ä¸‰æ–¹å¥—ä»¶éƒ½ä¸èƒ½ä½¿ç”¨äº†...
2. æ°¸é è¦æŒ‡å®š **"main"** å¦‚ä¸Šæ‰€è¿°ï¼Œä¸æŒ‡å®š **"main"** çš„è©±æœƒå°è‡´å…¶ä»– `package.json` æ²’æœ‰è¨­å®šæˆ‘å€‘è‡ªå·±æŒ‡å®šæ¬„ä½çš„éƒ½éŒ¯æ‰ï¼Œä¹Ÿå°±æ˜¯ä¸€èˆ¬çš„ç¬¬ä¸‰æ–¹å¥—ä»¶éƒ½æœƒéŒ¯å…‰å…‰äº†ï¼
3. å…ˆåˆ°çš„å…ˆç”¨ï¼Œæ‰¾ä¸åˆ°å°±å¾€ä¸‹æ‰¾ è½è‘—ç¹å£ï¼Œä»¥ä¸Šé¢ä½¿ç”¨çš„ç‚ºä¾‹

   ```text
   [options]
   module.system.node.main_field=foo
   module.system.node.main_field=bar
   module.system.node.main_field=baz
   ```

   å¦‚æœå¼•å…¥çš„å¥—ä»¶ `package.json` ä¸­æ²’æœ‰å®šç¾© **"foo"**ï¼Œé‚£å°±æœƒå¾€ä¸‹ä½¿ç”¨ **"bar"**ï¼Œå¦‚æœä¹Ÿæ²’æœ‰ **"bar"** å°±æœƒç¹¼çºŒå¾€ä¸‹å¼•ç”¨åˆ° **"baz"**ï¼Œä»¥æ­¤é¡æ¨ï¼Œæ‰€ä»¥ç­†è€…å¤šæ¬¡æåˆ°è¦æŒ‡å®š **"main"**ï¼Œå°±æ˜¯ç‚ºäº†é¿å…é€™ç¨®éŒ¯èª¤ç™¼ç”Ÿã€‚æœ€å¥½äº‹åœ¨æœ€å¾Œä¸€è¡Œå®šç¾© **"main"**

> Note: module.system.node.main\_field æ˜¯å¯ä»¥å®šç¾©å¤šè¡Œçš„ï¼  
> Todo: éœ€è¦æå€‹ ISSUE å•å•å®˜æ–¹ æ„Ÿè¦ºé †åºè·Ÿå®˜æ–¹æè¿°æœ‰é»åéä¾†äº†...

